#!/usr/bin/env node
"use strict";exports.__esModule=!0;var chokidar=require("chokidar"),yargs=require("yargs"),index_1=require("./index"),args=yargs.describe("ext","File extension used for index files and internal filter").string("ext").describe("log","Enable log messages when modules are resolved").boolean("log").describe("name","File name used for the index files").string("name").describe("paths","List of paths where index files should be generated").array("paths").describe("watch","Enables watch mode").argv;index_1.default({fileExtension:args.ext||void 0,fileName:args.name||void 0,log:args.log||void 0,paths:args.paths||void 0}).then(function(e){if(args.watch){console.log("Started watching paths...");var a=e.options;a.paths&&a.paths.length&&chokidar.watch(a.paths,{ignored:[!new RegExp("."+a.fileExtension+"$"),a.fileName+"."+a.fileExtension]}).on("all",function(){index_1.default(a).catch(function(e){console.error(e)})})}}).catch(function(e){console.error(e)});